import{r as t,g as e}from"./p-58QfBuzl.js";import{j as s}from"./p-CEKB1LyR.js";const i=".donut-chart{display:flex;flex-direction:column;align-items:center}.donut-labels{display:flex;flex-wrap:wrap;justify-content:center;margin-top:8px;font-size:12px;color:#6b7280}.donut-legend{display:flex;align-items:center;margin:0 8px}.donut-dot{width:12px;height:12px;border-radius:50%;margin-right:4px}.donut-chart-wrapper{width:100%}.chart-title{text-align:center;font-weight:600;font-size:1.1rem;margin-bottom:0.5rem}";const r=class{constructor(e){t(this,e)}get el(){return e(this)}data=[];labels=[];colors=[];size=120;strokeWidth=16;title;componentDidLoad(){this.handleResize();window.addEventListener("resize",this.handleResize)}disconnectedCallback(){window.removeEventListener("resize",this.handleResize)}handleResize=()=>{if(this.el){this.el.style.width="100%"}};parseArrayProp(t){if(Array.isArray(t))return t;if(typeof t==="string"){try{return JSON.parse(t)}catch{return t.split(",")}}return[]}render(){const t=this.parseArrayProp(this.data);const e=this.parseArrayProp(this.labels);const i=this.parseArrayProp(this.colors);const r=t.reduce(((t,e)=>t+e),0)||1;let a=0;const n=(this.size-this.strokeWidth)/2;const c=2*Math.PI*n;return s.jsxs("div",{class:"donut-chart-wrapper",children:[this.title&&s.jsx("div",{class:"chart-title",children:this.title},"f1f5094b572c2c741dc354e755f180497743fb58"),s.jsxs("div",{class:"donut-chart",children:[s.jsx("svg",{width:this.size,height:this.size,viewBox:`0 0 ${this.size} ${this.size}`,children:t.map(((t,e)=>{const o=t/r*c;const d=`${o} ${c-o}`;const h=a;a+=o;return s.jsx("circle",{cx:this.size/2,cy:this.size/2,r:n,fill:"none",stroke:i[e]||"#3b82f6","stroke-width":this.strokeWidth,"stroke-dasharray":d,"stroke-dashoffset":-h,style:{transition:"stroke-dasharray 1s cubic-bezier(0.4,0,0.2,1)"}},e)}))},"79c6dccfa5f405288571488b121c26241d4cf9b4"),s.jsx("div",{class:"donut-labels",children:e.map(((t,e)=>s.jsxs("span",{class:"donut-legend",children:[s.jsx("span",{class:"donut-dot",style:{background:i[e]||"#3b82f6"}}),t]},e)))},"790be86b48c10b1acab80cdf868a83e3c2e4a83f")]},"840dbbd7d60ac2aee03637468f0843ead4ca04dd"),s.jsx("slot",{name:"tooltip"},"eae5fb1a96c80471e2def1b64df297f11f992eef")]},"e32e58a465874a0f2117d4b76680183e58dd936e")}};r.style=i;export{r as animated_donut_chart};