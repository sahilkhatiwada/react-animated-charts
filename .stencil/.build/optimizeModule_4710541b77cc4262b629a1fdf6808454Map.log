{"version":3,"names":["lineChartCss","LineChart","data","labels","color","height","chartTitle","componentDidLoad","this","handleResize","window","addEventListener","disconnectedCallback","removeEventListener","el","style","width","parseArrayProp","prop","Array","isArray","JSON","parse","split","getPoints","max","Math","map","v","i","length","join","render","_jsxs","class","children","_jsx","viewBox","fill","stroke","points","transition","cx","cy","r","l","name"],"sources":["src/components/line-chart/line-chart.css?tag=animated-line-chart&encapsulation=shadow","src/components/line-chart/line-chart.tsx"],"sourcesContent":[".line-chart {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.chart-svg {\r\n  width: 100%;\r\n  height: 100%;\r\n}\r\n.line-labels {\r\n  display: flex;\r\n  justify-content: space-between;\r\n  margin-top: 8px;\r\n  font-size: 12px;\r\n  color: #6b7280;\r\n}\r\n.line-chart-wrapper {\r\n  width: 100%;\r\n}\r\n.chart-title {\r\n  text-align: center;\r\n  font-weight: 600;\r\n  font-size: 1.1rem;\r\n  margin-bottom: 0.5rem;\r\n} ","import { Component, Prop, h, Element } from '@stencil/core';\r\nimport './line-chart.css';\r\n\r\n@Component({\r\n  tag: 'animated-line-chart',\r\n  styleUrl: 'line-chart.css',\r\n  shadow: true,\r\n})\r\nexport class LineChart {\r\n  @Element() el: HTMLElement;\r\n  @Prop() data: number[] = [];\r\n  @Prop() labels: string[] = [];\r\n  @Prop() color: string = '#3b82f6';\r\n  @Prop() height: number = 240;\r\n  @Prop() chartTitle?: string;\r\n\r\n  componentDidLoad() {\r\n    this.handleResize();\r\n    window.addEventListener('resize', this.handleResize);\r\n  }\r\n  disconnectedCallback() {\r\n    window.removeEventListener('resize', this.handleResize);\r\n  }\r\n  handleResize = () => {\r\n    if (this.el) {\r\n      this.el.style.width = '100%';\r\n    }\r\n  };\r\n\r\n  parseArrayProp(prop: any): any[] {\r\n    if (Array.isArray(prop)) return prop;\r\n    if (typeof prop === 'string') {\r\n      try {\r\n        return JSON.parse(prop);\r\n      } catch {\r\n        return prop.split(',');\r\n      }\r\n    }\r\n    return [];\r\n  }\r\n\r\n  getPoints() {\r\n    const data = this.parseArrayProp(this.data);\r\n    const max = Math.max(...data, 1);\r\n    return data.map((v, i) => `${(i / (data.length - 1)) * 100},${100 - (v / max) * 100}`).join(' ');\r\n  }\r\n\r\n  render() {\r\n    const data = this.parseArrayProp(this.data);\r\n    const labels = this.parseArrayProp(this.labels);\r\n    return (\r\n      <div class=\"line-chart-wrapper\">\r\n        {this.chartTitle && <div class=\"chart-title\">{this.chartTitle}</div>}\r\n        <div class=\"line-chart\" style={{ height: `${this.height}px` }}>\r\n          <svg viewBox=\"0 0 100 100\" class=\"chart-svg\">\r\n            <polyline\r\n              fill=\"none\"\r\n              stroke={this.color}\r\n              stroke-width=\"2\"\r\n              points={this.getPoints()}\r\n              style={{ transition: 'all 1s cubic-bezier(0.4,0,0.2,1)' }}\r\n            />\r\n            {data.map((v, i) => (\r\n              <circle\r\n                key={i}\r\n                cx={(i / (data.length - 1)) * 100}\r\n                cy={100 - (v / Math.max(...data, 1)) * 100}\r\n                r={2.5}\r\n                fill={this.color}\r\n              />\r\n            ))}\r\n          </svg>\r\n          <div class=\"line-labels\">\r\n            {labels.map((l, i) => (\r\n              <span key={i}>{l}</span>\r\n            ))}\r\n          </div>\r\n        </div>\r\n        <slot name=\"tooltip\"></slot>\r\n      </div>\r\n    );\r\n  }\r\n} "],"mappings":"+EAAA,MAAMA,EAAe,gS,MCQRC,EAAS,M,iDAEZC,KAAiB,GACjBC,OAAmB,GACnBC,MAAgB,UAChBC,OAAiB,IACjBC,WAER,gBAAAC,GACEC,KAAKC,eACLC,OAAOC,iBAAiB,SAAUH,KAAKC,a,CAEzC,oBAAAG,GACEF,OAAOG,oBAAoB,SAAUL,KAAKC,a,CAE5CA,aAAe,KACb,GAAID,KAAKM,GAAI,CACXN,KAAKM,GAAGC,MAAMC,MAAQ,M,GAI1B,cAAAC,CAAeC,GACb,GAAIC,MAAMC,QAAQF,GAAO,OAAOA,EAChC,UAAWA,IAAS,SAAU,CAC5B,IACE,OAAOG,KAAKC,MAAMJ,E,CAClB,MACA,OAAOA,EAAKK,MAAM,I,EAGtB,MAAO,E,CAGT,SAAAC,GACE,MAAMtB,EAAOM,KAAKS,eAAeT,KAAKN,MACtC,MAAMuB,EAAMC,KAAKD,OAAOvB,EAAM,GAC9B,OAAOA,EAAKyB,KAAI,CAACC,EAAGC,IAAM,GAAIA,GAAK3B,EAAK4B,OAAS,GAAM,OAAO,IAAOF,EAAIH,EAAO,QAAOM,KAAK,I,CAG9F,MAAAC,GACE,MAAM9B,EAAOM,KAAKS,eAAeT,KAAKN,MACtC,MAAMC,EAASK,KAAKS,eAAeT,KAAKL,QACxC,OACE8B,OAAK,OAAAC,MAAM,qBAAoBC,SAAA,CAC5B3B,KAAKF,YAAc8B,MAAA,OAAKF,MAAM,cAAaC,SAAE3B,KAAKF,YAAiB,4CACpE2B,OAAK,OAAAC,MAAM,aAAanB,MAAO,CAAEV,OAAQ,GAAGG,KAAKH,YAAY8B,SAAA,CAC3DF,OAAK,OAAAI,QAAQ,cAAcH,MAAM,YAC/BC,SAAA,CAAAC,MAAA,YACEE,KAAK,OACLC,OAAQ/B,KAAKJ,MACA,mBACboC,OAAQhC,KAAKgB,YACbT,MAAO,CAAE0B,WAAY,qCACrB,4CACDvC,EAAKyB,KAAI,CAACC,EAAGC,IACZO,MAEE,UAAAM,GAAKb,GAAK3B,EAAK4B,OAAS,GAAM,IAC9Ba,GAAI,IAAOf,EAAIF,KAAKD,OAAOvB,EAAM,GAAM,IACvC0C,EAAG,IACHN,KAAM9B,KAAKJ,OAJNyB,OAMP,4CAEJO,MAAK,OAAAF,MAAM,cAAaC,SACrBhC,EAAOwB,KAAI,CAACkB,EAAGhB,IACdO,MAAA,QAAAD,SAAeU,GAAJhB,MACX,8CAEA,4CACNO,cAAMU,KAAK,WAAiB,yF","ignoreList":[]}